{% load static %}
{% load index %}
{% include 'includes/general/head.html' %}
        <title>{{profile.display_name}} - Sosyorol</title>
        <link rel="stylesheet" href="{% static 'css/left-menu-v2.css' %}">
        <link rel="stylesheet" href="{% static 'css/right-menu-v9.css' %}">
        <link rel="stylesheet" href="{% static 'css/feed-v42.css' %}">
        <link rel="stylesheet" href="{% static 'css/answer-template-v9.css' %}">
        <link rel="stylesheet" href="{% static 'css/comments-v1.css' %}">
        <script src="{% static 'js/new/autosize.min.js' %}"></script>
        <script src="{% static 'js/new/user-list.min.js' %}"></script>
        <script src="{% static 'js/index.js' %}"></script>
        <script src="{% static 'js/sosyorol.min.js' %}"></script>
        <script src="{% static 'js/user-actions.js' %}"></script>
        <script src="{% static 'js/edit-profile.js' %}"></script>
        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-app.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
            https://firebase.google.com/docs/web/setup#available-libraries -->
        <script src="https://www.gstatic.com/firebasejs/7.19.1/firebase-analytics.js"></script>

        <script>
        // Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyA9jeHII9FVkhOQfCM_NyoifnN8eIN6EFM",
            authDomain: "sosyorol-b6ab6.firebaseapp.com",
            databaseURL: "https://sosyorol-b6ab6.firebaseio.com",
            projectId: "sosyorol-b6ab6",
            storageBucket: "sosyorol-b6ab6.appspot.com",
            messagingSenderId: "565098272319",
            appId: "1:565098272319:web:5105dd611ce14cf98c8a8a",
            measurementId: "G-18ZNPD8JH4"
        };
        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        firebase.analytics();
        </script>
        <style>
            .box{box-shadow:0px 3px 4px rgba(173,173,173, 0.53);}
            .box .box{box-shadow:none;}
            .lst-item{padding:10px 0 15px 0;}
            .lst-item:hover{border-bottom:5px solid var(--main-color);padding-bottom:10px; color:var(--main-color);}
            .lst-item.active{border-bottom:5px solid var(--main-color);padding-bottom:10px; color:var(--main-color);}
            .hide{display:none;}
            #profileImg{overflow:hidden;left:calc(50% - 65px);}
        </style>
    </head>
    <body class="{{darkmode}}">
        {% include 'users/usertemplates/profile/user-credential-list.html' %}
        {% include 'users/usertemplates/profile/add-birthday.html' %}
        {% include 'users/usertemplates/profile/add-employment.html' %}
        {% include 'users/usertemplates/profile/add-education.html' %}
        {% include 'users/usertemplates/profile/add-location.html' %}
        {% include 'users/usertemplates/profile/add-language.html' %}
        {% include 'users/usertemplates/profile/edit-name.html' %}
        {% include 'users/usertemplates/profile/edit-user-desc.html' %}
        {% include 'includes/general/header.html' %}
        {% include 'includes/general/lang_popup.html' %}
        <input type="hidden" name="filter" id="filter" value="{{filter}}">
        <div class="full-width inline-flex">
            {% include 'includes/general/left_menu.html' %}
            <div class="section-middle" style="margin-top:45px; padding-bottom:32px;" id="profile-section-middle">
                <div class="bsbb p2040">
                    <div class="full-width full-shadow-border box" style="z-index:2;">
                        <div class="full-width">
                            <div class="full-width inline-flex" style="padding-bottom: 20px;">
                                {% if current_user.ID != profile.ID %}
                                <div class="ml20 mt20 icon-bg-large full-shadow twb tac">
                                    <img src="{{profile.avatar_url}}" class="rounded sqr130" id="profileImg" style="z-index:4;">
                                </div>
                                {% else %}
                                <div class="ml20 mt20">
                                    <div class="icon-bg-large full-shadow twb tac hand cocotarget" onclick="document.getElementById('editProfileImgMenu').classList.toggle('hidden');">
                                        <div class="bsbb sqr40 p10 borderblue rounded full-shadow bcma" style="top:calc(100% - 40px); left:calc(100% - 40px);z-index:5;">
                                            <svg width="13px" height="13px" viewBox="0 0 13 13" style="top:-2.5px;">
                                                <g>
                                                    <path style=" stroke:none;fill-rule:nonzero;fill:var(--main-color);fill-opacity:1;" d="M 0 10.296875 L 0 13.003906 L 2.710938 13.003906 L 10.699219 5.015625 L 7.988281 2.304688 Z M 12.792969 2.921875 C 12.929688 2.785156 13.003906 2.601562 13.003906 2.410156 C 13.003906 2.21875 12.929688 2.035156 12.792969 1.902344 L 11.101562 0.210938 C 10.964844 0.078125 10.78125 0 10.589844 0 C 10.398438 0 10.214844 0.078125 10.082031 0.210938 L 8.761719 1.53125 L 11.472656 4.242188 Z M 12.792969 2.921875 "/>
                                                </g>
                                            </svg>   
                                        </div>                                             
                                    </div>
                                    <input type="hidden" id="profileImgUrl">
                                    <br>
                                    <img src="{{profile.avatar_url}}" class="rounded sqr130" id="profileImg" style="z-index:4;margin-top:-152px; top:-39px;">
                                    <div class="absolute aligntr tac full-width rounded dnone" id="profileLoader" style="height:140px;background-color: var(--main-color-alpha);">
                                        <img class="center sqr60 mt40" src="{% static 'assets/img/loader.gif' %}">
                                    </div>
                                </div>
                                <ul class="absolute box aligntl full-shadow coco dropdown hidden" id="editProfileImgMenu" style="margin-top: 155px;margin-left: 114px;">
                                    <li class="p1020 hand">
                                        <p class="noselect">{{word_list|getword:"edit"|ucfirst}}</p>
                                        <input type='file' onchange="changeProfileImg(this, {% url 'changeprofilepicture' %});" class="hand absolute aligntl full-width" style="height:40px;overflow:hidden;opacity:0;z-index:6;" id="profileUpload" name="file" accept=".png, .jpg, .jpeg" />
                                    </li>
                                    <li class="p1020 hand" id="removeProfileImg" onclick="removeProfileImg({% url 'removeprofilepicture' %})">
                                        <p class="noselect">{{word_list|getword:"remove"|ucfirst}}</p>
                                    </li>
                                </ul>
                                {% endif %}
                                <div class="ml30 mt10" style="width:600px;">
                                    <div class="inline-flex">
                                        <p class="fs19 mt10 fwblack ctitle">{{profile.display_name}}</p>
                                        <a href="">
                                            <svg width="16px" height="16px" viewBox="0 0 20 20" style="margin-top:13px;margin-left:10px;">
                                                <g>
                                                    <path style=" stroke:none;fill-rule:nonzero;fill:var(--main-color);fill-opacity:1;" d="M 10 0 C 4.484375 0 0 4.484375 0 10 C 0 15.515625 4.484375 20 10 20 C 15.515625 20 20 15.515625 20 10 C 20 4.484375 15.515625 0 10 0 Z M 10 17.554688 C 5.835938 17.554688 2.445312 14.164062 2.445312 10 C 2.445312 5.835938 5.835938 2.445312 10 2.445312 C 14.164062 2.445312 17.554688 5.835938 17.554688 10 C 17.554688 14.164062 14.164062 17.554688 10 17.554688 Z M 10 17.554688 "/>
                                                    <path style=" stroke:none;fill-rule:nonzero;fill:var(--main-color);fill-opacity:1;" d="M 8.777344 8.898438 L 11.222656 8.898438 L 11.222656 15.339844 L 8.777344 15.339844 Z M 8.777344 8.898438 "/>
                                                    <path style=" stroke:none;fill-rule:nonzero;fill:var(--main-color);fill-opacity:1;" d="M 8.777344 4.660156 L 11.222656 4.660156 L 11.222656 7.023438 L 8.777344 7.023438 Z M 8.777344 4.660156 "/>
                                                </g>
                                            </svg>
                                        </a>
                                        {% if current_user.ID == profile.ID %}
                                        <p class="fs13 fwlight underline-on-hover hand cg2 ml10 noselect" style="margin-top:14px;" onclick="document.getElementById('edit-name-popup').classList.remove('dnone');">{{word_list|getword:"edit"|ucfirst}}</p>
                                        {% endif %}
                                    </div>
                                    <p class="fs15 cg2 lh20">u/{{profile.user_login}}</p>
                                    {% if current_user.ID == profile.ID %}
                                    <p class="fs15 cg2 lh20 mt20" id="desc-placeholder"><span id="userdesc">{% autoescape off %}{{profile.description|edit_comm_desc}}{% endautoescape %}</span><span class="fs13 fwlight underline-on-hover hand cg2 ml10 noselect" style="margin-top:14px;" onclick="document.getElementById('edit-user-desc-popup').classList.remove('dnone');">{{word_list|getword:"edit"|ucfirst}}</span></p>
                                    {% else %}
                                        <p class="fs15 cg2 lh20 mt20" id="desc-placeholder">{% autoescape off %}{{profile.description|edit_comm_desc}}{% endautoescape %}</p>
                                    {% endif %}
                                    <div class="full-width inline-flex mt20">
                                        <a href="/u/{{profile.user_login}}/followers"><p class="cb"><span class="fwbold" id="num_follower">{{profile.followers|length}}</span>&nbsp;{{word_list|getword:"followers"}}</p></a>
                                        <a href="/u/{{profile.user_login}}/followings"><p class="cb ml20"><span class="fwbold" id="num_following">{{profile.followings|length}}</span>&nbsp;{{word_list|getword:"followings"}}</p></a>
                                        <p class="cb ml20"><span class="fwbold">{{profile.posts|length}}</span>&nbsp;{{word_list|getword:"posts"}}</p>
                                    </div>
                                    <div class="full-width inline-flex mt20">
                                        {% if profile.ID != current_user.ID %}
                                            {% if current_user.followings|isfollowing:profile %}
                                                <p class="btn hand" style="padding-left:15px;padding-right:15px;background: var(--main-color); color:white; margin-top:3.5px;" onclick="return unfollow(this,'{{current_user.ID}}','{{profile.ID}}', '{{followtxt|ucwords}}', '{{current_user.ID}}','{{profile.ID}}');"><span class="p115">{{word_list|getword:"following"|ucwords}}</span></p>
                                            {% else %}
                                                <p class="btn hand" style="padding-left:15px;padding-right:15px;margin-top:3.5px;" onclick="return follow(this,'{{current_user.ID}}','{{profile.ID}}', '{{followingtxt|ucwords}}', '{{current_user.ID}}','{{profile.ID}}');"><span class="p115">{{word_list|getword:"follow"|ucwords}}</span></p>
                                            {% endif %}
                                        {% endif %}
                                        <div class="inline-flex">
                                            {% if profile.ID != current_user.ID %}
                                                <svg width='20px' height='20px' viewBox='0 0 20 20' class='icon hand' style='margin-top:-3.5px;margin-left:10px;transform: rotate(90deg);' onclick="document.getElementById('profile-actions-submenu').classList.toggle('dnone');">
                                                    <g>
                                                        <path style="fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-opacity:1;stroke-miterlimit:4;" d="M 12.998437 12 C 12.998437 12.553125 12.553125 12.998437 12 12.998437 C 11.446875 12.998437 11.001563 12.553125 11.001563 12 C 11.001563 11.446875 11.446875 11.001563 12 11.001563 C 12.553125 11.001563 12.998437 11.446875 12.998437 12 Z M 12.998437 12" transform="matrix(0.833333,0,0,0.833333,0,0)"/>
                                                        <path style="fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-opacity:1;stroke-miterlimit:4;" d="M 12.998437 5.001562 C 12.998437 5.55 12.553125 6 12 6 C 11.446875 6 11.001563 5.55 11.001563 5.001562 C 11.001563 4.448437 11.446875 3.998437 12 3.998437 C 12.553125 3.998437 12.998437 4.448437 12.998437 5.001562 Z M 12.998437 5.001562" transform="matrix(0.833333,0,0,0.833333,0,0)"/>
                                                        <path style="fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-opacity:1;stroke-miterlimit:4;" d="M 12.998437 18.998437 C 12.998437 19.551562 12.553125 20.001562 12 20.001562 C 11.446875 20.001562 11.001563 19.551562 11.001563 18.998437 C 11.001563 18.45 11.446875 18 12 18 C 12.553125 18 12.998437 18.45 12.998437 18.998437 Z M 12.998437 18.998437" transform="matrix(0.833333,0,0,0.833333,0,0)"/>
                                                    </g>
                                                </svg>
                                                <div class="absolute full-shadow-border dnone bcw" style="top:40px;z-index:5;" id="profile-actions-submenu">
                                                    <p class="hand p10 bb">{{word_list|getword:"send-a-message"|ucfirst}}</p>
                                                    <p class="hand p10 bb">{{word_list|getword:"block"|ucfirst}}</p>
                                                    <p class="hand p10">{{word_list|getword:"report"|ucfirst}}</p>
                                                </div>
                                            {% else %}
                                                <svg width='20px' height='20px' viewBox='0 0 20 20' class='icon hand' style='margin-top:-3.5px;margin-left:-10px;transform: rotate(90deg);' onclick="document.getElementById('profile-actions-submenu').classList.toggle('dnone');">
                                                    <g>
                                                        <path style="fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-opacity:1;stroke-miterlimit:4;" d="M 12.998437 12 C 12.998437 12.553125 12.553125 12.998437 12 12.998437 C 11.446875 12.998437 11.001563 12.553125 11.001563 12 C 11.001563 11.446875 11.446875 11.001563 12 11.001563 C 12.553125 11.001563 12.998437 11.446875 12.998437 12 Z M 12.998437 12" transform="matrix(0.833333,0,0,0.833333,0,0)"/>
                                                        <path style="fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-opacity:1;stroke-miterlimit:4;" d="M 12.998437 5.001562 C 12.998437 5.55 12.553125 6 12 6 C 11.446875 6 11.001563 5.55 11.001563 5.001562 C 11.001563 4.448437 11.446875 3.998437 12 3.998437 C 12.553125 3.998437 12.998437 4.448437 12.998437 5.001562 Z M 12.998437 5.001562" transform="matrix(0.833333,0,0,0.833333,0,0)"/>
                                                        <path style="fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-opacity:1;stroke-miterlimit:4;" d="M 12.998437 18.998437 C 12.998437 19.551562 12.553125 20.001562 12 20.001562 C 11.446875 20.001562 11.001563 19.551562 11.001563 18.998437 C 11.001563 18.45 11.446875 18 12 18 C 12.553125 18 12.998437 18.45 12.998437 18.998437 Z M 12.998437 18.998437" transform="matrix(0.833333,0,0,0.833333,0,0)"/>
                                                    </g>
                                                </svg>
                                            {% endif %}
                                            {% if profile.followers|length < 3 %}
                                                <p class="fs13 cg2 lh30 ml20">{% autoescape off %}{{page_dict.followingsinfo}}{% endautoescape %}</p>
                                            {% else %}
                                                <div class="inline-flex" style="margin-left:30px;">
                                                    {% for f in profile.followers %}
                                                        {% if forloop.counter < 4 %}
                                                            {% if forloop.counter == 3 %}
                                                                <a href="/u/{{f.follower.user_nicename}}" target="_blank"  class="sqrt30 imgbw rounded" style="margin-left: -10px;">
                                                                    <img class="sqrt30 rounded" src="{{f.follower.avatar_url}}">
                                                                </a>
                                                                {% if followers|length > 3  %}
                                                                    <div class="sqrt30 imgbw rounded absolute aligntl tac" style="background-color:rgba(0,0,0,0.7);left:38px;">
                                                                        <svg width='20px' height='20px' viewBox='0 0 20 20' class='hand' style='margin-top:5px;transform: rotate(90deg);'>
                                                                            <g>
                                                                                <path style="fill:none;stroke:var(--white);stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-opacity:1;stroke-miterlimit:4;" d="M 12.998437 12 C 12.998437 12.553125 12.553125 12.998437 12 12.998437 C 11.446875 12.998437 11.001563 12.553125 11.001563 12 C 11.001563 11.446875 11.446875 11.001563 12 11.001563 C 12.553125 11.001563 12.998437 11.446875 12.998437 12 Z M 12.998437 12" transform="matrix(0.833333,0,0,0.833333,0,0)"/>
                                                                                <path style="fill:none;stroke:var(--white);stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-opacity:1;stroke-miterlimit:4;" d="M 12.998437 5.001562 C 12.998437 5.55 12.553125 6 12 6 C 11.446875 6 11.001563 5.55 11.001563 5.001562 C 11.001563 4.448437 11.446875 3.998437 12 3.998437 C 12.553125 3.998437 12.998437 4.448437 12.998437 5.001562 Z M 12.998437 5.001562" transform="matrix(0.833333,0,0,0.833333,0,0)"/>
                                                                                <path style="fill:none;stroke:var(--white);stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-opacity:1;stroke-miterlimit:4;" d="M 12.998437 18.998437 C 12.998437 19.551562 12.553125 20.001562 12 20.001562 C 11.446875 20.001562 11.001563 19.551562 11.001563 18.998437 C 11.001563 18.45 11.446875 18 12 18 C 12.553125 18 12.998437 18.45 12.998437 18.998437 Z M 12.998437 18.998437" transform="matrix(0.833333,0,0,0.833333,0,0)"/>
                                                                            </g>
                                                                        </svg>
                                                                    </div>
                                                                {% endif %}
                                                            {%else %}
                                                                <a href="/u/{{f.follower.user_nicename}}" target="_blank"  class="sqrt30 imgbw rounded" style="margin-left: -10px;">
                                                                    <img class="sqrt30 rounded" src="{{f.follower.avatar_url}}">
                                                                </a>
                                                            {% endif %}
                                                        {% endif %}
                                                    {% endfor %}
                                                </div>
                                            {% endif %}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bsbb full-width p020 full-shadow-border box" style="width:calc(100% + 2px);margin-top: -4px;">
                        <ul class="full-width mt10 inline-flex" style="top:1px;">
                            {% if filter == "all" or filter == "" %}
                            <a href="/u/{{profile.user_login}}"><li class="hand fs15 cg2 fwmedium lst-item active">{{word_list|getword:"all"|ucwords}}</li></a>
                            {% else %}
                            <a href="/u/{{profile.user_login}}"><li class="hand fs15 cg2 fwmedium lst-item">{{word_list|getword:"all"|ucwords}}</li></a>
                            {% endif %}
                            {% if filter == "post" %}
                            <a href="/u/{{profile.user_login}}/post"><li class="hand fs15 cg2 fwmedium lst-item m020 active">{{word_list|getword:"post"|ucwords}}</li></a>
                            {% else %}
                            <a href="/u/{{profile.user_login}}/post"><li class="hand fs15 cg2 fwmedium lst-item m020">{{word_list|getword:"post"|ucwords}}</li></a>
                            {% endif %}
                            {% if filter == "media" %}
                            <a href="/u/{{profile.user_login}}/media"><li class="hand fs15 cg2 fwmedium lst-item active">{{word_list|getword:"media"|ucwords}}</li></a>
                            {% else %}
                            <a href="/u/{{profile.user_login}}/media"><li class="hand fs15 cg2 fwmedium lst-item">{{word_list|getword:"media"|ucwords}}</li></a>
                            {% endif %}
                            {% if filter == "link" %}
                            <a href="/u/{{profile.user_login}}/link"><li class="hand fs15 cg2 fwmedium lst-item m020 active">{{word_list|getword:"link"|ucwords}}</li></a>
                            {% else %}
                            <a href="/u/{{profile.user_login}}/link"><li class="hand fs15 cg2 fwmedium lst-item m020">{{word_list|getword:"link"|ucwords}}</li></a>
                            {% endif %}
                            {% if filter == "question" %}
                            <a href="/u/{{profile.user_login}}/question"><li class="hand fs15 cg2 fwmedium lst-item active">{{word_list|getword:"question"|ucwords}}</li></a>
                            {% else %}
                            <a href="/u/{{profile.user_login}}/question"><li class="hand fs15 cg2 fwmedium lst-item">{{word_list|getword:"question"|ucwords}}</li></a>
                            {% endif %}
                            {% if filter == "answer" %}
                            <a href="/u/{{profile.user_login}}/answer"><li class="hand fs15 cg2 fwmedium lst-item m020 active">{{word_list|getword:"answer-noun"|ucwords}}</li></a>
                            {% else %}
                            <a href="/u/{{profile.user_login}}/answer"><li class="hand fs15 cg2 fwmedium lst-item m020">{{word_list|getword:"answer-noun"|ucwords}}</li></a>
                            {% endif %}
                            {% if filter == "poll" %}
                            <a href="/u/{{profile.user_login}}/poll"><li class="hand fs15 cg2 fwmedium lst-item active">{{word_list|getword:"poll"|ucwords}}</li></a>
                            {% else %}
                            <a href="/u/{{profile.user_login}}/poll"><li class="hand fs15 cg2 fwmedium lst-item">{{word_list|getword:"poll"|ucwords}}</li></a>
                            {% endif %}
                            {% if filter == "quiz" %}
                            <a href="/u/{{profile.user_login}}/quiz"><li class="hand fs15 cg2 fwmedium lst-item m020 active">{{word_list|getword:"quiz"|ucwords}}</li></a>
                            {% else %}
                            <a href="/u/{{profile.user_login}}/quiz"><li class="hand fs15 cg2 fwmedium lst-item m020">{{word_list|getword:"quiz"|ucwords}}</li></a>
                            {% endif %}
                        </ul>
                    </div>
                    <div id="filter-options-inner" class="box inline-block p10 mt20">
                        <div id="filter-link" class="inline-flex left fs15">    
                            <svg width="15px" height="15px" viewBox="0 0 20 20" id="filter-options-svg" class="selected">
                                <g>
                                    <path style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 19.414062 13.816406 C 18.226562 13.816406 17.109375 13.355469 16.269531 12.523438 C 15.429688 11.691406 14.96875 10.582031 14.96875 9.402344 C 14.96875 9.078125 14.707031 8.816406 14.382812 8.816406 C 14.058594 8.816406 13.796875 9.078125 13.796875 9.402344 C 13.796875 10.582031 13.335938 11.691406 12.496094 12.523438 C 11.65625 13.355469 10.539062 13.816406 9.351562 13.816406 C 9.027344 13.816406 8.765625 14.078125 8.765625 14.402344 C 8.765625 14.726562 9.027344 14.988281 9.351562 14.988281 C 11.804688 14.988281 13.796875 16.972656 13.796875 19.414062 C 13.796875 19.738281 14.058594 20 14.382812 20 C 14.707031 20 14.96875 19.738281 14.96875 19.414062 C 14.96875 16.972656 16.964844 14.988281 19.414062 14.988281 C 19.738281 14.988281 20 14.726562 20 14.402344 C 20 14.078125 19.738281 13.816406 19.414062 13.816406 Z M 19.414062 13.816406 "/>
                                    <path style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 8.015625 9.234375 C 6.292969 9.234375 4.886719 7.839844 4.886719 6.125 C 4.886719 5.804688 4.625 5.539062 4.300781 5.539062 C 3.976562 5.539062 3.714844 5.804688 3.714844 6.125 C 3.714844 7.839844 2.3125 9.234375 0.585938 9.234375 C 0.261719 9.234375 0 9.496094 0 9.820312 C 0 10.144531 0.261719 10.40625 0.585938 10.40625 C 2.3125 10.40625 3.714844 11.804688 3.714844 13.523438 C 3.714844 13.847656 3.976562 14.109375 4.300781 14.109375 C 4.625 14.109375 4.886719 13.847656 4.886719 13.523438 C 4.886719 11.804688 6.292969 10.40625 8.015625 10.40625 C 8.339844 10.40625 8.601562 10.144531 8.601562 9.820312 C 8.601562 9.496094 8.339844 9.234375 8.015625 9.234375 Z M 8.015625 9.234375 "/>
                                    <path style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 8.972656 4.050781 C 10.238281 4.050781 11.273438 5.074219 11.273438 6.332031 C 11.273438 6.65625 11.535156 6.917969 11.859375 6.917969 C 12.179688 6.917969 12.445312 6.65625 12.445312 6.332031 C 12.445312 5.070312 13.476562 4.042969 14.746094 4.042969 C 15.070312 4.042969 15.332031 3.78125 15.332031 3.457031 C 15.332031 3.132812 15.070312 2.871094 14.746094 2.871094 C 13.476562 2.871094 12.445312 1.84375 12.445312 0.585938 C 12.445312 0.261719 12.179688 0 11.859375 0 C 11.535156 0 11.273438 0.261719 11.273438 0.585938 C 11.273438 1.847656 10.238281 2.878906 8.972656 2.878906 C 8.644531 2.878906 8.386719 3.140625 8.386719 3.464844 C 8.386719 3.785156 8.644531 4.050781 8.972656 4.050781 Z M 8.972656 4.050781 "/>
                                </g>
                            </svg>
                            <p id="filter-options-text" class="selected fs15" style="font-size:15px;">{{word_list|getword:"trends"|ucfirst}}</p>
                        </div>
                        <div id="filter-link" class="inline-flex left fs15">    
                            <svg width="15px" height="15px" viewBox="0 0 20 20" id="filter-options-svg">
                                <g>
                                    <path style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 11.25 1.25 C 6.851562 1.25 3.210938 4.515625 2.601562 8.75 L 0 8.75 L 3.75 12.5 L 7.5 8.75 L 5.125 8.75 C 5.707031 5.902344 8.230469 3.75 11.25 3.75 C 14.695312 3.75 17.5 6.554688 17.5 10 C 17.5 13.445312 14.695312 16.25 11.25 16.25 C 9.246094 16.25 7.347656 15.277344 6.175781 13.648438 L 4.144531 15.109375 C 5.789062 17.390625 8.441406 18.75 11.25 18.75 C 16.074219 18.75 20 14.824219 20 10 C 20 5.175781 16.074219 1.25 11.25 1.25 Z M 11.25 1.25 "/>
                                    <path style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 10 6.25 L 10 11.332031 L 13.730469 13.570312 L 15.019531 11.429688 L 12.5 9.917969 L 12.5 6.25 Z M 10 6.25 "/>
                                </g>
                            </svg>
                            <p id="filter-options-text" class="fs15" style="font-size:15px;">{{word_list|getword:"new"|ucfirst}}</p>
                        </div>
                        <div id="filter-link" class="inline-flex left fs15">    
                            <svg width="22.5px" height="15px" viewBox="0 0 20 20" id="filter-options-svg">
                                <g>
                                    <path style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 16.445312 3.007812 C 17.035156 3.007812 17.511719 3.484375 17.511719 4.074219 L 17.511719 11.96875 C 17.511719 12.558594 17.035156 13.035156 16.445312 13.035156 L 8.863281 13.035156 C 8.273438 13.035156 7.5625 13.453125 7.277344 13.96875 L 6.117188 16.058594 C 5.832031 16.574219 5.359375 16.992188 5.066406 16.992188 C 4.773438 16.992188 4.496094 16.515625 4.449219 15.929688 L 4.304688 14.097656 C 4.257812 13.511719 3.832031 13.035156 3.355469 13.035156 C 2.875 13.035156 2.488281 12.558594 2.488281 11.96875 L 2.488281 4.074219 C 2.488281 3.484375 2.964844 3.007812 3.554688 3.007812 L 16.445312 3.007812 M 16.445312 0.519531 L 3.554688 0.519531 C 1.59375 0.519531 0 2.113281 0 4.074219 L 0 11.96875 C 0 13.375 0.773438 14.59375 1.890625 15.167969 L 1.96875 16.125 C 2.121094 18.070312 3.425781 19.480469 5.066406 19.480469 C 6.539062 19.480469 7.699219 18.335938 8.292969 17.265625 L 9.261719 15.523438 L 16.445312 15.523438 C 18.40625 15.523438 20 13.929688 20 11.96875 L 20 4.074219 C 20 2.113281 18.40625 0.519531 16.445312 0.519531 Z M 16.265625 5.882812 C 16.265625 5.292969 15.789062 4.816406 15.199219 4.816406 L 4.621094 4.816406 C 4.03125 4.816406 3.554688 5.292969 3.554688 5.882812 C 3.554688 6.472656 4.03125 6.949219 4.621094 6.949219 L 15.199219 6.949219 C 15.789062 6.949219 16.265625 6.46875 16.265625 5.882812 Z M 11.421875 9.644531 C 11.421875 9.054688 10.945312 8.578125 10.355469 8.578125 L 4.621094 8.578125 C 4.03125 8.578125 3.554688 9.054688 3.554688 9.644531 C 3.554688 10.234375 4.03125 10.710938 4.621094 10.710938 L 10.355469 10.710938 C 10.945312 10.710938 11.421875 10.234375 11.421875 9.644531 Z M 11.421875 9.644531 "/>
                                </g>
                            </svg>
                            <p id="filter-options-text" class="fs15" style="font-size:15px;">{{word_list|getword:"controversial"|ucfirst}}</p>
                        </div>
                        <div id="filter-link" class="inline-flex left fs15">  
                            <svg width="15px" height="15px" viewBox="0 0 20 20" id="filter-options-svg">
                                <g>
                                    <path style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 5.097656 15.113281 C 4.921875 15.285156 4.78125 15.628906 4.78125 15.875 L 4.78125 19.085938 L 6.644531 19.085938 L 6.644531 14.011719 C 6.644531 13.761719 6.503906 13.703125 6.328125 13.878906 Z M 5.097656 15.113281 "/>
                                    <path style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 13.289062 12.070312 C 13.113281 12.242188 12.972656 12.585938 12.972656 12.832031 L 12.972656 19.085938 L 14.835938 19.085938 L 14.835938 10.964844 C 14.835938 10.71875 14.695312 10.660156 14.519531 10.835938 Z M 13.289062 12.070312 "/>
                                    <path style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 16.019531 9.335938 C 15.84375 9.507812 15.703125 9.851562 15.703125 10.097656 L 15.703125 19.085938 L 17.433594 19.085938 L 17.433594 8.367188 C 17.433594 8.121094 17.292969 8.0625 17.117188 8.234375 Z M 16.019531 9.335938 "/>
                                    <path style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 10.613281 14.742188 C 10.613281 14.742188 10.53125 14.828125 10.425781 14.929688 C 10.324219 15.03125 10.242188 15.316406 10.242188 15.5625 L 10.242188 19.085938 L 12.105469 19.085938 L 12.105469 13.699219 C 12.105469 13.453125 11.964844 13.394531 11.789062 13.566406 Z M 10.613281 14.742188 "/>
                                    <path style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 7.828125 13.796875 C 7.652344 13.621094 7.511719 13.679688 7.511719 13.925781 L 7.511719 19.085938 L 9.375 19.085938 L 9.375 15.789062 C 9.375 15.542969 9.242188 15.207031 9.074219 15.042969 Z M 7.828125 13.796875 "/>
                                    <path style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 2.75 17.460938 L 2.148438 18.0625 C 1.972656 18.238281 1.832031 18.539062 1.832031 18.734375 L 1.832031 19.089844 L 3.914062 19.089844 L 3.914062 16.742188 C 3.914062 16.496094 3.773438 16.4375 3.597656 16.609375 Z M 2.75 17.460938 "/>
                                    <path style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 19.683594 8.285156 C 19.859375 8.460938 20 8.398438 20 8.152344 L 20 1.769531 C 20 1.3125 19.5625 0.910156 19.109375 0.910156 L 12.761719 0.910156 C 12.515625 0.910156 12.453125 1.054688 12.628906 1.226562 L 14.886719 3.488281 L 13.964844 4.40625 L 9.695312 8.679688 L 7.4375 6.421875 C 7.261719 6.246094 6.980469 6.246094 6.804688 6.421875 L 0.523438 12.707031 C -0.175781 13.40625 -0.175781 14.539062 0.523438 15.234375 L 0.566406 15.28125 C 1.265625 15.976562 2.398438 15.976562 3.09375 15.277344 L 7.121094 11.25 L 9.378906 13.507812 C 9.554688 13.683594 9.835938 13.683594 10.011719 13.507812 L 17.457031 6.058594 Z M 19.683594 8.285156 "/>
                                </g>
                            </svg>
                            <p id="filter-options-text" class="fs15" style="font-size:15px;">{{word_list|getword:"rising"|ucfirst}}</p>
                        </div>
                        <div class="inline-flex left fs15" id="filter-link" onmouseover="document.getElementById('time-menu').style.display='block';" onmouseout="document.getElementById('time-menu').style.display='none';">
                            <svg width="15px" height="15px" viewBox="0 0 20 20" id="filter-options-svg">
                                <g>
                                    <path style=" stroke:none;fill-rule:nonzero;fill-opacity:1;" d="M 20 7.753906 L 13.089844 6.75 L 10 0.488281 L 6.910156 6.75 L 0 7.753906 L 5 12.628906 L 3.820312 19.511719 L 10 16.261719 L 16.179688 19.511719 L 15 12.628906 Z M 12.722656 14.753906 L 10 13.320312 L 7.277344 14.753906 L 7.796875 11.71875 L 5.59375 9.570312 L 8.636719 9.128906 L 10 6.371094 L 11.363281 9.128906 L 14.40625 9.570312 L 12.203125 11.71875 Z M 12.722656 14.753906 "/>
                                </g>
                            </svg>
                            <p id="filter-options-text" class="fs15" style="font-size:15px;">{{word_list|getword:"best"|ucwords}}</p>
                            <div id="time-menu" class="full-shadow-border absolute">
                                <a href="" class="full-width"><p class="p10" style="font-size:15px;">{{word_list|getword:"now"|ucwords}}</p></a>
                                <a href="" class="full-width"><p class="p10" style="font-size:15px;">{{word_list|getword:"today"|ucwords}}</p></a>
                                <a href="" class="full-width"><p class="p10" style="font-size:15px;">{{word_list|getword:"this-week"|ucwords}}</p></a>
                                <a href="" class="full-width"><p class="p10" style="font-size:15px;">{{word_list|getword:"this-month"|ucwords}}</p></a>
                                <a href="" class="full-width"><p class="p10" style="font-size:15px;">{{word_list|getword:"this-year"|ucwords}}</p></a>
                                <a href="" class="full-width"><p class="p10" style="font-size:15px;">{{word_list|getword:"all-time"|ucwords}}</p></a>
                            </div>
                        </div>
                    </div>
                    <div class="full-width" id="posts">
                        <input type="hidden" value="True" id="has-more-0">
                        {% for post in profile.posts %}
                            {% if post.post_type == "post" %}
                                {% if filter == "post" %}
                                    {% include 'posts/posttemplates/post_template.html' with post=post %}
                                {% elif filter == "all" %}
                                    {% include 'posts/posttemplates/post_template.html' with post=post %}
                                {% endif %}
                            {% elif post.post_type == "media" %}
                                {% if filter == "media" %}
                                    {% include 'posts/posttemplates/media_template.html' with media=post %}
                                {% elif filter == "all" %}
                                    {% include 'posts/posttemplates/media_template.html' with media=post %}
                                {% endif %}
                            {% elif post.post_type == "link" %}
                                {% if filter == "link" %}
                                    {% include 'posts/posttemplates/link_template.html' with link=post %}
                                {% elif filter == "all" %}
                                    {% include 'posts/posttemplates/link_template.html' with link=post %}
                                {% endif %}
                            {% elif post.post_type == "questions" %}
                                {% if filter == "question" %}
                                    {% include 'posts/posttemplates/post_template.html' with post=post %}
                                {% elif filter == "all" %}
                                    {% include 'posts/posttemplates/post_template.html' with post=post %}
                                {% endif %}
                            {% elif post.post_type == "answer" %}
                                {% if filter == "question" %}
                                    {% include 'posts/posttemplates/answer_template.html' with answer=post %}
                                {% elif filter == "all" %}
                                    {% include 'posts/posttemplates/answer_template.html' with answer=post %}
                                {% endif %}                
                            {% elif post.post_type == "poll" %}
                                {% if filter == "poll" %}
                                    {% include 'posts/posttemplates/poll_template.html' with poll=post %}
                                {% elif filter == "all" %}
                                    {% include 'posts/posttemplates/poll_template.html' with poll=post %}
                                {% endif %}
                            {% elif post.post_type == "quiz" %}
                                {% if filter == "quiz" %}
                                    {% if post.quiz_type == "colorBox" %}
                                        {% include 'posts/posttemplates/colorBox_quiz_template.html' with quiz=post %}
                                    {% elif post.quiz_type == "media" %}
                                        {% include 'posts/posttemplates/media_quiz_template.html' with quiz=post %}
                                    {% else %}
                                        {% include 'posts/posttemplates/quiz_template.html' with quiz=post %}
                                    {% endif %}
                                {% elif filter == "all" %}
                                    {% if post.quiz_type == "colorBox" %}
                                        {% include 'posts/posttemplates/colorBox_quiz_template.html' with quiz=post %}
                                    {% elif post.quiz_type == "media" %}
                                        {% include 'posts/posttemplates/media_quiz_template.html' with quiz=post %}
                                    {% else %}
                                        {% include 'posts/posttemplates/quiz_template.html' with quiz=post %}
                                    {% endif %}
                                {% endif %}
                            {% endif %}
                        {% endfor %}
                    </div>
                    <div id="loader" class="full-width tac dnone">
                        <img src="{% static 'assets/img/sosyorol-loader.gif' %}" style="margin:auto; height: 80px;">
                    </div>
                </div>
            </div>
            <div class="section-right fixed" id="section-right">
                {% include 'profilesettings.html' with user=profile %}
                {% if current_user.ID == profile.ID %}
                    <div  class="full-shadow-border section-right-bottom" style="padding:10px 0;width:calc(100% - 60px);">
                        <div class="bsbb full-width inline-block p020 mt5">
                            <p class="fs19 fwblack ctitle left">{{word_list|getword:"users-you-may-follow"|ucwords}}</p>
                            <svg width="16px" height="16px" viewBox="0 0 20 20" class="right" style="margin-top:4px;">
                                <g>
                                    <path style=" stroke:none;fill-rule:nonzero;fill:var(--gray2);fill-opacity:1;" d="M 10 0 C 4.484375 0 0 4.484375 0 10 C 0 15.515625 4.484375 20 10 20 C 15.515625 20 20 15.515625 20 10 C 20 4.484375 15.515625 0 10 0 Z M 10 17.554688 C 5.835938 17.554688 2.445312 14.164062 2.445312 10 C 2.445312 5.835938 5.835938 2.445312 10 2.445312 C 14.164062 2.445312 17.554688 5.835938 17.554688 10 C 17.554688 14.164062 14.164062 17.554688 10 17.554688 Z M 10 17.554688 "/>
                                    <path style=" stroke:none;fill-rule:nonzero;fill:var(--gray2);fill-opacity:1;" d="M 8.777344 8.898438 L 11.222656 8.898438 L 11.222656 15.339844 L 8.777344 15.339844 Z M 8.777344 8.898438 "/>
                                    <path style=" stroke:none;fill-rule:nonzero;fill:var(--gray2);fill-opacity:1;" d="M 8.777344 4.660156 L 11.222656 4.660156 L 11.222656 7.023438 L 8.777344 7.023438 Z M 8.777344 4.660156 "/>
                                </g>
                            </svg>
                        </div>
                        <ul class="full-width bt" style="margin-top:12px;">
                            {% for user in users %}
                                <li class="bsbb full-width bb right-list-item">
                                    <a href="" class="bsbb full-width p1020 inline-block">
                                        <img class="sqr40 rounded lh30 left" src="{{user.avatar_url}}"/>
                                        <div class="ml10 left">
                                            <p class="lh20 fwblack ctitle">{{user.display_name}}</p>
                                            <p class="cg2 lh20">u/{{user.user_login}}</p>
                                        </div>
                                        <div class="right" style="top:5.5px;">
                                            <p class="btn"><span class="p115">{{word_list|getword:"follow"|ucfirst}}</span></p>
                                        </div>
                                    </a>
                                </li>
                            {% endfor %}
                        </ul>
                        <div class="bsbb p020 mt10">
                            <a href="" class="cb">{{word_list|getword:"show-more"|ucfirst}}</a>
                        </div>
                    </div>
                    <div class="full-shadow-border section-right-bottom" style="padding:0;width:calc(100% - 60px);">
                        <ul class="full-width inline-block">
                            {% for media in medias %}
                                <li class="left" style="width:calc(100% / 3);height:100px;">
                                    <a class="full" href="/u/{{media.author.user_login}}/{{media.hex_id}}/{{media.guid}}">
                                        {% if media.media_type == "image" %}
                                            {% if forloop.counter == 1 %}
                                                <img src="{{media.media_url}}" class="full" style="object-fit: cover;border-top-left-radius: 5px;"/>
                                            {% elif forloop.counter == 3 %}
                                                <img src="{{media.media_url}}" class="full" style="object-fit: cover;border-top-right-radius: 5px;"/>
                                            {% elif forloop.counter == 4 %}
                                                <img src="{{media.media_url}}" class="full" style="object-fit: cover;border-bottom-left-radius: 5px;"/>
                                            {% elif forloop.counter == 6 %}
                                                <img src="{{media.media_url}}" class="full" style="object-fit: cover;border-bottom-right-radius: 5px;"/>
                                            {% else %}
                                                <img src="{{media.media_url}}" class="full" style="object-fit: cover;"/>
                                            {% endif %}
                                        {% endif %}
                                    </a>
                                </li>
                            {% endfor %}
                            {% for i in empty_medias %}
                                {% if forloop.last%}
                                    <li class="left" style="width:calc(100% / 3);height:100px; background-color:var(--main-color-alpha);">
                                    </li>
                                {% else %}
                                    <li class="left" style="width:calc(100% / 3 - 1px);height:100px; border-right:1px solid var(--white); background-color:var(--main-color-alpha);">
                                    </li>
                                {% endif %}
                            {% endfor %}
                        </ul>
                    </div>
                {% else %}
                {% endif %}
            </div>
        </div>
        <script>
            var offset = 0;
            var limit = 5;
            var isLoading = false;
            var hasMore = true;
            window.onload = () => {
                offset = 0;
                isLoading = false;
                hasMore = true;
            }
            var j = jQuery.noConflict();
            window.onscroll = () => {
                if (document.documentElement.scrollHeight - document.documentElement.scrollTop === document.documentElement.clientHeight){
                    if(hasMore){
                        if(isLoading){
                            return;
                        }else{
                            isLoading = true;
                            document.getElementById("loader").classList.remove("dnone");
                            var filter = document.getElementById("filter").value;
                            j.ajax({
                                url:"{% url 'loadmoreprofileposts' %}",
                                type : "POST", // http method
                                data : { limit: limit, offset: offset + limit, filter: filter, user_id: "{{profile.ID}}"}, // data sent with the post request
                                // handle a successful response
                                success : function(json) {
                                    // log the returned json to the console
                                    console.log(json); // another sanity check
                                    document.getElementById("posts").innerHTML += json;
                                    if (document.getElementById("has-more-"+offset).value == false || document.getElementById("has-more-"+offset).value == "False"){
                                        hasMore = false;
                                    }
                                    offset += limit;
                                    isLoading = false;
                                    document.getElementById("loader").classList.add("dnone");
                                }
                            });
                        }
                    }
                }
            }
        </script>
    </body>
</html>